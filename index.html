<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School of Adults</title>
    <meta name="description" content="A modern, modular guide to managing every aspect of adult life.">
    <meta name="theme-color" content="#1a1a1a">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #e5e7eb;
            --theme-color-1: #374151;
            --theme-color-2: #4f46e5;
        }
        html { color-scheme: dark; }
        body { 
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.5s ease;
        }
        .tile {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            transform: rotate(var(--rotate, 0deg));
        }
        .tile:hover {
            transform: translateY(-10px) scale(1.05) rotate(var(--rotate-hover, 0deg));
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }
        .list-item-do::before { content: '‚úì'; color: var(--theme-color-2); margin-right: 0.75rem; font-weight: bold; }
        .list-item-dont::before { content: '‚úó'; color: #ef4444; margin-right: 0.75rem; font-weight: bold; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--theme-color-1); }
        ::-webkit-scrollbar-thumb { background: var(--theme-color-2); border-radius: 4px; }
        #content-display { display: none; }
        .nav-sidebar {
            transition: transform 0.3s ease-in-out;
        }
        @media (max-width: 1024px) {
            .nav-sidebar {
                transform: translateX(100%);
            }
            .nav-sidebar.open {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body class="text-gray-200">
    <div id="app" class="relative min-h-screen flex">
        <!-- Main Content Area -->
        <div class="flex-1 transition-all duration-300">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <!-- Header -->
                <header class="flex items-center justify-between pb-8">
                     <div class="flex items-center space-x-3">
                         <span class="text-3xl">üéì</span>
                        <h1 class="text-3xl font-bold text-white">School of Adults</h1>
                    </div>
                    <button id="nav-toggle" class="lg:hidden z-50 p-2 rounded-md hover:bg-white/10">
                        <i data-feather="menu" class="w-7 h-7"></i>
                    </button>
                </header>
                
                <main>
                    <!-- Home Grid -->
                    <div id="home-grid">
                        <!-- Tiles will be injected here -->
                    </div>

                    <!-- Content Display -->
                    <div id="content-display">
                        <!-- Topic content will be injected here -->
                    </div>
                </main>
            </div>
        </div>
        
        <!-- Right Navigation Sidebar -->
        <nav id="nav-sidebar" class="nav-sidebar fixed top-0 right-0 h-full w-72 bg-black/30 backdrop-blur-lg border-l border-white/10 z-40 lg:relative lg:w-72 lg:translate-x-0 lg:flex-shrink-0">
             <div class="p-8">
                <h2 class="text-2xl font-bold mb-6 text-white">Topics</h2>
                <div id="nav-links" class="space-y-2">
                    <!-- Nav links injected here -->
                </div>
            </div>
        </nav>
         <!-- Sidebar Overlay -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const homeGrid = document.getElementById('home-grid');
        const contentDisplay = document.getElementById('content-display');
        const headerTitle = document.querySelector('header h1');
        const navSidebar = document.getElementById('nav-sidebar');
        const navToggle = document.getElementById('nav-toggle');
        const navLinksContainer = document.getElementById('nav-links');
        const sidebarOverlay = document.getElementById('sidebar-overlay');

        const topics = {
            health: { 
                title: "Health & Wellness", 
                icon: "‚ù§Ô∏è", 
                color1: "#1f2937", 
                color2: "#ef4444",
                subtopics: {
                    food: { title: "Food", file: "health-food.json" },
                    exercise: { title: "Exercise", file: "health-exercise.json" },
                    healthCheckUp: { title: "Health Check Up", file: "health-healthcheckup.json" },
                    mentalHealth: { title: "Mental Health", file: "health-mentalhealth.json" },
                    period: { title: "Period Health", file: "health-period.json" },
                }
            },
            wealth: { 
                title: "Wealth & Finance", 
                icon: "üí∞",
                color1: "#1e3a8a",
                color2: "#3b82f6",
                subtopics: {
                    generate: { title: "Generate", file: "wealth-generate.json" },
                    invest: { title: "Invest", file: "wealth-invest.json" },
                    insurance: { title: "Insurance", file: "wealth-insurance.json" },
                    spends: { title: "Spends", file: "wealth-spends.json" },
                    loans: { title: "Loans", file: "wealth-loans.json" },
                }
            },
            career: { 
                title: "Career & Ambition", 
                icon: "üöÄ", 
                color1: "#4a044e", 
                color2: "#a21caf",
                subtopics: {
                    choosing: { title: "Choosing Career", file: "career-choosing.json" },
                    jobsearch: { title: "Job Search", file: "career-jobsearch.json" },
                    ladder: { title: "Career Ladder", file: "career-ladder.json" },
                    resignation: { title: "Resignation", file: "career-resignation.json" },
                }
            },
            homeManagement: {
                title: "Home Management",
                icon: "üè°",
                color1: "#3f6212",
                color2: "#84cc16",
                subtopics: {
                    livingroom: { title: "Living Room", file: "home-livingroom.json" },
                    bedroom: { title: "Bedroom", file: "home-bedroom.json" },
                    kitchen: { title: "Kitchen", file: "home-kitchen.json" },
                    garden: { title: "Garden", file: "home-garden.json" },
                    bathroom: { title: "Bathroom", file: "home-bathroom.json" },
                }
            },
            travel: { title: "Travel & Exploration", icon: "‚úàÔ∏è", file: "travel.json", color1: "#064e3b", color2: "#10b981" },
            people: {
                title: "People & Relationships",
                icon: "üë•",
                color1: "#581c87",
                color2: "#a855f7",
                subtopics: {
                    self: { title: "Self", file: "people-self.json" },
                    parents: { title: "Parents", file: "people-parents.json" },
                    partner: { title: "Partner", file: "people-partner.json" },
                    kids: { title: "Kids", file: "people-kids.json" },
                    friends: { title: "Friends", file: "people-friends.json" },
                    relatives: { title: "Relatives", file: "people-relatives.json" },
                    colleagues: { title: "Colleagues", file: "people-colleagues.json" },
                    enemy: { title: "Difficult People", file: "people-enemy.json" },
                }
            },
            lifeSkills: { title: "Essential Life Skills", icon: "üõ†Ô∏è", file: "lifeskills.json", color1: "#854d0e", color2: "#f59e0b" },
            pets: {
                title: "Pet Care",
                icon: "üêæ",
                color1: "#6d28d9",
                color2: "#c084fc",
                subtopics: {
                    cats: { title: "Cats", file: "pets-cats.json" },
                    dogs: { title: "Dogs", file: "pets-dogs.json" }
                }
            }
        };

        const defaultTheme = {
            bgColor: "#121212",
            color1: "#374151",
            color2: "#4f46e5"
        };
        
        const setTheme = (theme) => {
            root.style.setProperty('--bg-color', theme.bgColor);
            root.style.setProperty('--theme-color-1', theme.color1);
            root.style.setProperty('--theme-color-2', theme.color2);
        };
        
        const renderNavLinks = () => {
            let linksHtml = '<a href="#" class="nav-link block font-semibold text-lg py-2 px-4 rounded-lg hover:bg-white/10" data-path="home">üè† Home</a>';
            for (const key in topics) {
                const topic = topics[key];
                const mainPath = topic.file ? key : key;
                linksHtml += `<a href="#${mainPath}" class="nav-link block font-semibold text-lg py-2 px-4 rounded-lg hover:bg-white/10" data-path="${mainPath}">${topic.icon} ${topic.title}</a>`;
                
                if (topic.subtopics) {
                    linksHtml += '<div class="pl-6 border-l-2 border-white/10 ml-4 space-y-1">';
                    for (const subKey in topic.subtopics) {
                        const subTopic = topic.subtopics[subKey];
                        const subPath = `${key}-${subKey}`;
                        linksHtml += `<a href="#${subPath}" class="nav-link block font-medium text-base py-1 px-2 rounded-lg hover:bg-white/10 text-gray-300" data-path="${subPath}">${subTopic.title}</a>`;
                    }
                    linksHtml += '</div>';
                }
            }
            navLinksContainer.innerHTML = linksHtml;
        };

        const renderHomeGrid = () => {
            setTheme(defaultTheme);
            homeGrid.innerHTML = '';
            homeGrid.style.display = 'grid';
            contentDisplay.style.display = 'none';
            headerTitle.textContent = "School of Adults";

            homeGrid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8';
            let rotation = -2;

            for (const key in topics) {
                const item = topics[key];
                const tile = document.createElement('a');
                const path = item.file ? key : key;
                tile.href = `#${path}`;
                tile.className = 'tile p-8 rounded-2xl flex flex-col items-center justify-center text-center text-white shadow-lg';
                tile.style.backgroundColor = item.color1;
                tile.style.setProperty('--rotate', `${rotation}deg`);
                tile.style.setProperty('--rotate-hover', `${rotation > 0 ? rotation - 1 : rotation + 1}deg`);
                
                tile.innerHTML = `
                    <span class="text-5xl mb-4">${item.icon}</span>
                    <h3 class="text-2xl font-bold">${item.title}</h3>
                `;
                homeGrid.appendChild(tile);
                rotation = (rotation + 4) * -1;
            }
        };

        const renderSubtopicGrid = (parentKey) => {
            const parentTopic = topics[parentKey];
            setTheme({bgColor: parentTopic.color1, color1: parentTopic.color1, color2: parentTopic.color2});
            homeGrid.innerHTML = '';
            homeGrid.style.display = 'grid';
            contentDisplay.style.display = 'none';
            headerTitle.textContent = parentTopic.title;

            homeGrid.className = 'grid grid-cols-2 md:grid-cols-3 gap-6';

            for (const key in parentTopic.subtopics) {
                const item = parentTopic.subtopics[key];
                const tile = document.createElement('a');
                tile.href = `#${parentKey}-${key}`;
                tile.className = 'tile p-6 rounded-xl flex flex-col items-center justify-center text-center border-2';
                tile.style.borderColor = parentTopic.color2;
                tile.style.backgroundColor = 'rgba(0,0,0,0.2)';
                
                tile.innerHTML = `<h3 class="font-semibold text-white text-xl">${item.title}</h3>`;
                homeGrid.appendChild(tile);
            }
        };

        const renderTopicContent = async (filePath, theme) => {
            setTheme({bgColor: theme.color1, color1: theme.color1, color2: theme.color2});
            try {
                const response = await fetch(filePath);
                if (!response.ok) throw new Error(`File not found: ${filePath}`);
                const data = await response.json();

                homeGrid.style.display = 'none';
                contentDisplay.style.display = 'block';
                headerTitle.textContent = data.title;
                
                contentDisplay.innerHTML = `
                    <div class="animate-fade-in bg-black/20 p-6 sm:p-8 rounded-2xl">
                        <p class="text-gray-300 text-lg mb-8 max-w-3xl">${data.description}</p>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="space-y-6">
                                <div class="p-6 rounded-xl bg-black/20 border border-white/10">
                                    <h3 class="text-xl font-semibold mb-4 text-white flex items-center"><i data-feather="book-open" class="mr-2 h-5 w-5"></i>Key Information</h3>
                                    <ul class="space-y-2 text-gray-300">
                                        ${data.sentences.map(item => `<li class="flex items-start"><span style="color: ${theme.color2}" class="mr-2 mt-1">‚óÜ</span><span>${item}</span></li>`).join('')}
                                    </ul>
                                </div>
                                <div class="p-6 rounded-xl bg-black/20 border border-white/10">
                                    <h3 class="text-xl font-semibold mb-4 text-white flex items-center"><i data-feather="link" class="mr-2 h-5 w-5"></i>Websites</h3>
                                    <div class="space-y-3">
                                        ${data.websites.map(res => `
                                            <a href="${res.url}" target="_blank" rel="noopener noreferrer" class="block bg-black/20 p-3 rounded-lg hover:bg-black/40 transition-colors border border-white/10">
                                                <p class="font-medium" style="color: ${theme.color2}">${res.name}</p>
                                            </a>`).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-6">
                                <div class="p-6 rounded-xl bg-black/20 border border-white/10">
                                    <h3 class="text-xl font-semibold mb-4 text-green-400 flex items-center"><i data-feather="check-circle" class="mr-2 h-5 w-5"></i>Do's</h3>
                                    <ul class="space-y-3 text-gray-300">
                                        ${data.dos.map(item => `<li class="list-item-do">${item}</li>`).join('')}
                                    </ul>
                                </div>
                                <div class="p-6 rounded-xl bg-black/20 border border-white/10">
                                    <h3 class="text-xl font-semibold mb-4 text-red-400 flex items-center"><i data-feather="x-circle" class="mr-2 h-5 w-5"></i>Don'ts</h3>
                                    <ul class="space-y-3 text-gray-300">
                                        ${data.donts.map(item => `<li class="list-item-dont">${item}</li>`).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>`;
                feather.replace();
                window.scrollTo(0, 0);

            } catch (error) {
                console.error("Error loading topic:", error);
                contentDisplay.innerHTML = `<p class="text-red-400">Could not load content. Please try again.</p>`;
            }
        };
        
        const handleNavigation = (hash) => {
            const cleanHash = hash.replace('#', '');
            const [parentKey, childKey] = cleanHash.split('-');

            if (!cleanHash || cleanHash === 'home') {
                renderHomeGrid();
            } else if (topics[parentKey] && topics[parentKey].subtopics && !childKey) {
                renderSubtopicGrid(parentKey);
            } else {
                let filePath, theme;
                if (childKey) {
                    filePath = topics[parentKey]?.subtopics[childKey]?.file;
                    theme = topics[parentKey];
                } else {
                    filePath = topics[parentKey]?.file;
                    theme = topics[parentKey];
                }
                
                if (filePath) {
                    renderTopicContent(filePath, theme);
                } else {
                    renderHomeGrid(); // Fallback to home
                }
            }
             // Close sidebar on nav
            if(navSidebar.classList.contains('open')) {
                navSidebar.classList.remove('open');
                sidebarOverlay.classList.add('hidden');
            }
        };

        const handleNavClick = (e) => {
            const link = e.target.closest('a');
            if (link) {
                e.preventDefault();
                const path = link.getAttribute('href');
                history.pushState({ path }, '', path);
                handleNavigation(path);
            }
        };

        // Event Listeners
        homeGrid.addEventListener('click', handleNavClick);
        navLinksContainer.addEventListener('click', handleNavClick);

        navToggle.addEventListener('click', () => {
            navSidebar.classList.toggle('open');
            sidebarOverlay.classList.toggle('hidden');
        });
        sidebarOverlay.addEventListener('click', () => {
            navSidebar.classList.remove('open');
            sidebarOverlay.classList.add('hidden');
        });
        
        window.addEventListener('popstate', () => {
             handleNavigation(window.location.hash);
        });

        // Initial Load
        renderNavLinks();
        handleNavigation(window.location.hash);
        feather.replace();
    });
    </script>
</body>
</html>

